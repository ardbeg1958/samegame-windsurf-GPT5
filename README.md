# SameGame GPT5

クラシックパズルゲーム「さめがめ」のWeb実装版です。1985年に森辺訓章氏が「月刊ASCII」に投稿した「ChainShot!」を基にしたパズルゲームを、モダンなWebブラウザで楽しめます。

![さめがめゲーム](https://img.shields.io/badge/Game-Same%20Game-blue)
![HTML5](https://img.shields.io/badge/HTML5-E34F26?logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?logo=css3&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?logo=javascript&logoColor=black)

## 🆕 最近の更新

- **v0.3.0**: 🏆 **ハイスコアランキング機能を実装！** スコア記録・表示・新記録通知機能を追加
- v0.2.1: サイズを 10×15/15×15 に切り替えた際の横方向のはみ出しを解消しました（セルの最小サイズを 28px に統一）。

## 🎮 ゲーム概要

さめがめは、同じ種類の駒が隣接するグループを選択して消していくパズルゲームです。より多くの駒を一度に消すことで高得点を狙います。

### ゲームルール

1. **駒の削除**: 同じ種類で隣接する2個以上の駒グループをクリックして削除
2. **重力効果**: 駒が削除されると、上の駒が下に落下
3. **列の整理**: 空の列ができると、右の列が左に移動
4. **スコア**: 削除した駒数の2乗×10点で計算
5. **ゲーム終了**: 削除可能な駒グループがなくなったら終了

### 駒の種類

- 🔴 **●** (赤色の丸)
- 💎 **◆** (緑色のダイヤ)
- ⭐ **★** (黄色の星)
- 🔲 **■** (青色の四角)

## 🚀 クイックスタート

### 必要な環境

- モダンWebブラウザ（Chrome、Firefox、Safari、Edge）
- JavaScript有効化

### プレイ方法

1. **ファイルを開く**
   ```bash
   # ファイルをダブルクリックするか、ブラウザで開く
   open index.html
   ```
   または、ブラウザで `index.html` を直接開きます。

2. **ゲーム開始**
   - ページが読み込まれると自動的にゲームが開始されます
   - 盤面には4種類の駒がランダムに配置されます

3. **駒を削除**
   - 同じ種類で隣接する駒のグループをクリック
   - 2個以上のグループのみ削除可能
   - 削除後、駒が自動的に落下・整列されます

4. **ゲーム継続**
   - 削除可能なグループがある限りプレイ継続
   - 削除できるグループがなくなると自動的にゲーム終了

5. **新しいゲーム**
   - 「新しいゲーム」ボタンでいつでもリスタート可能

6. **ハイスコア確認**
   - 🏆「ハイスコア」ボタンで過去の成績を確認
   - 上位10位までのランキング表示
   - 新記録達成時は特別な通知でお祝い！

## 🌐 GitHub Pages に公開（簡易）

1. リポジトリを GitHub に push（既に済みなら不要）
2. GitHub → 対象リポジトリ → Settings → Pages
3. Build and deployment → Source: "Deploy from a branch"
4. Branch: `main`、Folder: `/ (root)` を選択 → Save
5. 数分後に `https://<ユーザー名>.github.io/<リポジトリ名>/` で公開

補足:
- 代替: `docs/` を公開対象にする場合は `index.html` を `docs/` へ移動し、Folder に `/docs` を指定します。
- パスは相対指定（例: `./file.png`）にすると `/repo/` 配下でも動作します。

## 📱 対応デバイス

### デスクトップ
- **操作**: マウスクリック
- **画面サイズ**: 最適化されたレイアウト

### モバイル・タブレット
- **操作**: タッチ操作
- **画面サイズ**: レスポンシブデザインで自動調整

## 🎯 スコアシステム

スコアは削除した駒数に基づいて計算されます：

| 削除駒数 | 計算式 | 得点 |
|---------|-------|------|
| 2個 | 2² × 10 | 40点 |
| 3個 | 3² × 10 | 90点 |
| 4個 | 4² × 10 | 160点 |
| 5個 | 5² × 10 | 250点 |
| 10個 | 10² × 10 | 1000点 |

**戦略**: 大きなグループを作ってから削除することで高得点を狙えます！

## 🏆 ハイスコアランキング機能

### 新機能の特徴
- **自動スコア記録**: ゲーム終了時に自動的にスコアを保存
- **ランキング表示**: 上位10位までの成績を確認可能
- **詳細情報**: 順位・スコア・達成日時・盤面サイズを表示
- **新記録通知**: ハイスコア達成時に特別な視覚効果でお祝い
- **データ管理**: 必要に応じてランキングをリセット可能

### 使い方
1. **ランキング確認**: ヘッダーの🏆「ハイスコア」ボタンをクリック
2. **新記録達成**: ゲーム終了時に自動判定・通知
3. **データリセット**: ランキング画面の「記録をリセット」ボタン

### 技術仕様
- **データ保存**: ブラウザのローカルストレージを使用
- **容量管理**: 最大10件の記録を保持（自動管理）
- **エラー対応**: データ破損時の自動復旧機能
- **アクセシビリティ**: スクリーンリーダー・キーボード操作対応

## 🔧 技術仕様

### アーキテクチャ
- **ファイル構成**: 単一HTMLファイル（CORS制約回避）
- **フロントエンド**: Vanilla JavaScript（フレームワーク不使用）
- **スタイリング**: CSS3（Grid Layout + Flexbox）
- **アニメーション**: CSS Transitions

### 実装特徴
- 📱 レスポンシブデザイン
- 🎨 グラデーション効果
- ⚡ スムーズなアニメーション
- 🎯 直感的なUI/UX
- 🚀 高速動作（最適化されたアルゴリズム）
- 🏆 ハイスコアランキング機能
- 💾 ローカルストレージによるデータ永続化
- ♿ 完全なアクセシビリティ対応

### ブラウザ対応
| ブラウザ | 対応状況 |
|---------|---------|
| Chrome | ✅ 完全対応 |
| Firefox | ✅ 完全対応 |
| Safari | ✅ 完全対応 |
| Edge | ✅ 完全対応 |

## 📁 プロジェクト構成

```
samegame-windsurf-GPT5/
├── index.html                              # メインファイル（ゲーム本体）
├── README.md                              # プロジェクト説明書（本ファイル）
├── .kiro/specs/high-score-ranking/        # ハイスコア機能仕様書
│   ├── requirements.md                    # 要件定義書
│   ├── design.md                         # 設計書
│   └── tasks.md                          # 実装タスク一覧
└── .vscode/                              # VS Code設定
```

## 🎮 プレイのコツ

### 初心者向け
1. **小さなグループから始める**: まず操作に慣れましょう
2. **落下を予測する**: 駒がどのように落ちるかを考えて削除
3. **列の動きを理解する**: 空の列ができたときの動作を把握

### 上級者向け
1. **大きなグループを作る**: 小さなグループを残して大きなグループを構成
2. **連鎖を狙う**: 削除後の落下で新たなグループができることを利用
3. **盤面全体を見る**: 局所的でなく全体の戦略を考える
4. **ハイスコアを狙う**: ランキング機能で自己ベストを更新しよう！

## 🐛 トラブルシューティング

### よくある問題

**Q: 駒をクリックしても削除されない**
A: 1個だけの駒や、隣接していない駒は削除できません。2個以上の連結グループを選択してください。

**Q: ゲームが動作しない**
A: JavaScriptが有効になっているか確認してください。また、モダンブラウザを使用してください。

**Q: スマートフォンで操作しづらい**
A: タッチ操作に最適化していますが、小さな駒は正確にタップしてください。

**Q: ゲームが重い**
A: 大量のDOMノード操作を最適化していますが、古いデバイスでは動作が重い場合があります。

**Q: ハイスコアが保存されない**
A: ブラウザのローカルストレージが無効になっている可能性があります。プライベートブラウジングモードでは保存されません。

**Q: ハイスコアデータが消えた**
A: ブラウザのデータクリアやストレージ容量不足が原因の可能性があります。データは自動的に復旧を試みます。

## 📈 今後の拡張予定

- 🔊 サウンドエフェクト
- ✅ ~~💾 スコア保存機能~~ **実装済み**
- ✅ ~~🏆 ハイスコアランキング~~ **実装済み**
- 🎨 カスタムテーマ
- 📊 統計情報表示
- 🎵 BGM追加
- 🌐 オンラインランキング
- 🎯 チャレンジモード

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 👨‍💻 開発者

最初のアイデアは ardbeg1958@gmail.com によって提供されました。
Claude Code により基本要求がとりまとめられ README.md が作成されました。
基本要求を受けて、GPT-5 により REQ.md と DESIGN.md が作成されました
実装も GPT-5 により行われました（GPT-5 は low reasoning モードです）

### ハイスコアランキング機能開発
- **要件定義・設計**: Kiro AI による仕様策定
- **実装**: Kiro AI による完全実装（2025年1月17日）
- **機能**: スコア記録・ランキング表示・新記録通知・エラーハンドリング・アクセシビリティ対応

---

**楽しいゲームライフを！** 🎮✨

何かご質問やご提案がございましたら、お気軽にお知らせください。
